<ng-container *ngIf="state$ | async as state">
  <div class="search-tools-panel">
    <div *ngIf="orderOptions" class="dropdown" (click)="toggleOrderDropdown()">
      <div class="dropdown-button">
        <p>{{ orderOptions[state.params.selectedOrder] }}</p>
        <ng-icon name="matExpandMoreOutline"></ng-icon>
      </div>
      <div
        class="dropdown-content"
        [style.display]="state.isOrderDropdownOpen ? 'block' : 'none'"
      >
        <div
          *ngFor="let option of orderOptions; let i = index"
          (click)="onOrderChange(i)"
        >
          <p>
            {{ option }}
          </p>
        </div>
      </div>
    </div>
    <div
      *ngIf="filterOptions"
      class="dropdown"
      (click)="toggleFilterDropdown()"
    >
      <div class="dropdown-button">
        <p>{{ filterOptions[state.params.selectedFilter] }}</p>
        <ng-icon name="matExpandMoreOutline"></ng-icon>
      </div>
      <div
        class="dropdown-content"
        [style.display]="state.isFilterDropdownOpen ? 'block' : 'none'"
      >
        <div
          *ngFor="let option of filterOptions; let i = index"
          (click)="onFilterChange(i)"
        >
          <p>
            {{ option }}
          </p>
        </div>
      </div>
    </div>
    <div class="search-bar">
      <input
        class="text-field"
        type="text"
        [(ngModel)]="search"
        (keydown)="debounceSearch()"
        placeholder="Search"
      />
    </div>
  </div>
</ng-container>
