<div
  class="wrapper"
  [routerLink]="[]"
  [relativeTo]="route"
  [queryParams]="proposal.selectedQueryParam"
  queryParamsHandling="merge"
>
  <img
    [ngSrc]="proposal.thumbnailUri"
    [width]="125"
    [height]="125"
    [priority]="true"
  />
  <div class="content">
    <div class="summary">
      <div class="header">
        <ng-container
          *ngIf="{ data: userService.authUser$ | async } as authUser"
        >
          <h3>
            {{ proposal.getCurrentTitle(authUser.data) }}
          </h3>
        </ng-container>
        <div class="inset-vertical-divider"></div>
        <p>
          {{ proposal.user.nickname }}
        </p>
        <div class="inset-vertical-divider"></div>
        <small>
          {{ proposal.formattedLastImportantDate }}
        </small>
        <div *ngIf="proposal.isSelectedForDevelopment" class="tag">
          <small>ON HOLD</small>
        </div>
        <div *ngIf="proposal.isInDevelopment" class="tag">
          <small>IN DEVELOPMENT</small>
        </div>
        <div *ngIf="proposal.isLastCall" class="tag">
          <small>LAST CALL</small>
        </div>
        <ng-container *ngIf="userService.authUser$ | async as authUser">
          <div
            *ngIf="
              proposal.isPendingSpecification &&
              authUser.id === proposal.user.id
            "
            class="tag"
          >
            <small>SELECTED</small>
          </div>
        </ng-container>
        <div *ngFor="let tag of proposal.categories" class="tag">
          <small>
            {{ tag }}
          </small>
        </div>
      </div>
      <ng-container *ngIf="{ data: userService.authUser$ | async } as authUser">
        <p class="description">
          {{ proposal.getCurrentDescription(authUser.data) }}
        </p>
      </ng-container>
    </div>
    <div class="inset-vertical-divider"></div>
  </div>
  <div class="scores">
    <p *ngIf="!proposal.isSelectedForDevelopment && !proposal.isInDevelopment">
      {{ proposal.positiveRatio }}%
    </p>
    <p *ngIf="!proposal.isSelectedForDevelopment && !proposal.isInDevelopment">
      {{ proposal.totalValue }}
    </p>
    <p *ngIf="proposal.isSelectedForDevelopment || proposal.isInDevelopment">
      {{ proposal.importanceTag }}
    </p>
    <p *ngIf="proposal.cost">{{ proposal.cost }}</p>
  </div>
</div>
