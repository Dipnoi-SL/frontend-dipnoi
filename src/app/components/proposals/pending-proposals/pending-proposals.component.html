<ng-container *ngIf="state$ | async as state">
  <div class="wrapper" #infiniteScrollContainerRef>
    <div class="content-header">
      <div class="content-header-section">
        <h1>Pending proposals</h1>
        <div>Create</div>
      </div>
      <div class="content-header-section">
        <dipnoi-toggle
          *ngIf="userService.authUser$ | async"
          (onToggleUpdated)="handleOnToggleUpdated($event)"
        ></dipnoi-toggle>
        <dipnoi-params
          (onParamsUpdated)="handleOnParamsUpdated($event)"
        ></dipnoi-params>
      </div>
    </div>
    <ng-container
      *ngIf="proposalService.pinnedProposals$ | async as pinnedProposals"
    >
      <div
        class="pinned-proposals"
        *ngIf="state.isPinnedShown && pinnedProposals.length"
      >
        <dipnoi-proposal-card
          *ngFor="let proposal of pinnedProposals"
          [proposal]="proposal"
        ></dipnoi-proposal-card>
        <div class="horizontal-divider"></div>
      </div>
    </ng-container>
    <dipnoi-proposal-list
      [infiniteScrollContainerRef]="infiniteScrollContainerRef"
      [params]="state.params"
    ></dipnoi-proposal-list>
  </div>
</ng-container>
